(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],h=0,p=[];h<o.length;h++)r=o[h],a[r]&&p.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(i=!1)}i&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var i={},a={app:0},n=[];function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=i,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("header",[s("nav",{staticClass:"navbar navbar-expand-sm fixed-top navbar-light nav-bg"},[s("a",{staticClass:"navbar-brand offset-sm-1 mr-5 text-white font-weight-bold",attrs:{href:"https://www.say-huahuo.com"}},[t._v("花火学园")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse justify-content-between",attrs:{id:"navbarToggler"}},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-white",attrs:{to:"/index/zhvn","active-class":"font-weight-bold"}},[t._v("汉化硬盘版")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-white",attrs:{to:"/index/olvn","active-class":"font-weight-bold"}},[t._v("在线试玩")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-white",attrs:{to:"/index/comic","active-class":"font-weight-bold"}},[t._v("漫画")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link text-white mr-5",attrs:{to:"/index/video","active-class":"font-weight-bold"}},[t._v("表番")])],1),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link text-white",on:{click:function(e){return e.preventDefault(),t.showlive2d(e)}}},[t._v("召唤nep")])])]),s("div",{staticClass:"form-inline form-row"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control col mr-1",attrs:{placeholder:"请输入关键词"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),s("button",{staticClass:"btn btn-outline-primary col-auto mr-sm-5 text-white",attrs:{type:"search"},on:{click:t.search}},[t._v("搜索")])])])])]),s("div",{staticClass:"container"},[t._m(1),s("hr"),s("router-view"),s("hr"),t._m(2)],1),t.live2d?s("Live-td",{class:{invisible:t.live2dvisible}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{"data-target":"#navbarToggler","data-toggle":"collapse",type:"button"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row invisible"},[s("nav",{staticClass:"navbar navbar-expand-sm"},[s("span",{staticClass:"navbar-brand"},[t._v("汉化硬盘版 galgame 资源 下载 论坛")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row justify-content-center"},[s("footer",{staticClass:"text-black-50"},[s("span",[t._v("© 2019 花火学园.Powered by WordPress. |")]),s("span",{attrs:{"data-toggle":"tooltip",title:"请联系:3451432292@qq.com unmayx@qq.com"}},[t._v("意见与建议")]),t._v(" |\n        "),s("span",{attrs:{"data-toggle":"tooltip",title:"花火的微博（ID 姬野永远）"}},[t._v("关注我们")]),s("div",{staticClass:"invisible"},[s("hr"),s("hr"),s("hr")])])])}],r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fixed-bottom d-flex justify-content-end"},[s("canvas",{attrs:{id:"live2d",width:"300",height:"300"}})])}],l={name:"LiveTd",created:function(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.src="/js/live2d.js",t.appendChild(e)}},c=l,d=s("2877"),h=Object(d["a"])(c,r,o,!1,null,null,null),p=h.exports,u={name:"app",components:{LiveTd:p},data:function(){return{keyword:"",live2d:!1,live2dvisible:!0}},methods:{search:function(){this.$router.push("/index/"+this.$route.params.type+"/"+this.keyword)},showlive2d:function(){this.live2d=!0,this.live2dvisible=!this.live2dvisible,this.live2dvisible?event.target.innerText="召唤nep":event.target.innerText="隐藏nep"}}},g=u,v=Object(d["a"])(g,a,n,!1,null,null,null),m=v.exports,f=s("8c4f"),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("article",[s("div",{staticClass:"row"},t._l(t.pagelist,function(e){return s("div",{key:e.title,staticClass:"col-sm-6 col-xl-4 mb-3"},[s("div",{staticClass:"card rounded shadow position-relative d-none d-sm-block"},[s("div",{staticClass:"card-header p-1"},[s("div",{staticClass:"row justify-content-center"},[s("h1",{staticClass:"p-1 rounded m-1 font-weight-bold",class:t.getclass(e),attrs:{"data-toggle":"tooltip",title:e.date}},[t._v(t._s(e.title))])])]),s("div",{staticClass:"shadow border rounded-sm border-dark m-2"},[s("div",{staticClass:"embed-responsive embed-responsive-1by1"},[s("a",{attrs:{href:e.url}},[s("img",{staticClass:"embed-responsive-item",attrs:{src:e.img}})])])])]),s("div",{staticClass:"card rounded position-relative d-block d-sm-none"},[s("div",{staticClass:"card-header p-1"},[s("div",{staticClass:"row justify-content-center"},[s("h1",{staticClass:" p-1 rounded m-1",class:t.getclass(e)},[t._v(t._s(e.title))])]),s("div",{staticClass:"row justify-content-center"},[s("p",{staticClass:"mb-0",staticStyle:{"font-size":"0.5rem"}},[t._v(t._s(e.date))])])]),s("div",{staticClass:"border rounded-sm border-dark m-2"},[s("div",{staticClass:"embed-responsive embed-responsive-1by1"},[s("a",{attrs:{href:e.url}},[s("img",{staticClass:"embed-responsive-item",attrs:{src:e.img}})])])])])])}),0),s("div",{staticClass:"row justify-content-end"},[s("ul",{staticClass:"pagination"},[t.page>4?s("li",{staticClass:"page-item",class:{active:t.act(t.item)}},[s("a",{staticClass:"page-link",on:{click:t.changePage}},[t._v("1")])]):t._e(),t.page>5?s("span",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("...")])]):t._e(),t._l(t.index,function(e){return s("li",{key:e.title,staticClass:"page-item",class:{active:t.act(e)}},[s("a",{staticClass:"page-link",on:{click:t.changePage}},[t._v(t._s(e))])])}),t._m(0),s("li",{staticClass:"page-item",class:{active:t.act(t.item)}},[s("a",{staticClass:"page-link",on:{click:t.changePage}},[t._v(t._s(t.totalpage))])])],2)])])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("...")])])}],w=(s("55dd"),s("c5f6"),s("386d"),{name:"index",props:["type","search"],data:function(){return{pagesize:6,totalpage:1,page:1,vnlist:[],items:[],startpage:1,item:"",showtype:"zhvn",typelist:{zhvn:"vn.json",olvn:"olgal.json",video:"video.json",comic:"comic.json"},textbg:["bg-primary","bg-secondary","bg-success","bg-danger","bg-warning","bg-info"]}},beforeRouteEnter:function(t,e,s){s(function(t){t.fixtype(t,t.type),t.getlist(t.showtype)})},beforeRouteUpdate:function(t,e,s){s(),this.fixtype(this,t.params.type),this.searchvn(t.params.search)},watch:{showtype:function(){this.getlist(this.showtype)}},computed:{pagelist:function(){return this.items.slice(this.pagesize*(this.startpage-1),this.pagesize*this.page)},index:function(){for(var t=[],e=Math.max(this.page-3,1);e<Math.min(Number(this.page)+Number(5),this.totalpage);e++)t.push(e);return t}},updated:function(){var t=this;$('[data-toggle="tooltip"]').tooltip(),setTimeout(function(){window.removeEventListener("scroll",t.scrollpage),window.addEventListener("scroll",t.scrollpage)},1e3)},methods:{changePage:function(t){this.page=t.target.innerText,this.startpage=this.page},act:function(t){return this.page==t},scrollpage:function(){document.body.offsetHeight==window.pageYOffset+document.documentElement.clientHeight&&(window.removeEventListener("scroll",this.scrollpage),this.page=Math.min(Number(this.page)+1,this.totalpage))},getlist:function(t){var e=this;fetch(this.typelist[t]).then(function(t){return t.json()}).then(function(t){e.vnlist=t,e.items=e.vnlist.sort(function(t,e){return Number(e.date)-Number(t.date)}),e.totalpage=Math.ceil(e.vnlist.length/e.pagesize),e.searchvn(e.search)})},searchvn:function(t){t&&(this.items=this.vnlist.filter(function(e){return-1!=e.title.indexOf(t)}),this.page=1)},fixtype:function(t,e){void 0==e&"scvn"!=t.showtype&&(t.showtype="zhvn"),void 0!=e&void 0!=t.typelist[e]&e!=t.showtype&&(t.showtype=e)},getclass:function(t){return this.textbg[this.pagelist.indexOf(t)%6]}}}),C=w,_=Object(d["a"])(C,b,y,!1,null,null,null),x=_.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"embed-responsive embed-responsive-4by3 offset-sm-2 col-sm-8 border border-dark",on:{click:function(e){return e.preventDefault(),t.nextpage(e)}}},[s("audio",{ref:"bgm",attrs:{src:t.bgm,loop:"",type:"audio/ogg"}}),s("audio",{ref:"sound",attrs:{src:t.sound,type:"audio/ogg"}}),s("div",{staticClass:"embed-responsive-item",staticStyle:{"background-size":"100%"},style:{backgroundImage:t.back}}),s("img",{staticClass:"embed-responsive-item",class:{invisible:!t.left},staticStyle:{left:"-25%"},attrs:{src:t.left}}),s("img",{staticClass:"embed-responsive-item",class:{invisible:!t.center},attrs:{src:t.center}}),s("img",{staticClass:"embed-responsive-item",class:{invisible:!t.right},staticStyle:{left:"25%"},attrs:{src:t.right}}),s("div",{staticClass:"embed-responsive-item card",staticStyle:{top:"70%",height:"30%","background-color":"rgba(230, 238, 232, 0.7)"}},[s("div",{staticClass:"card-body"},[s("p",{class:{invisible:!t.name}},[t._v("["+t._s(t.name)+"]")]),s("p",[t._v(t._s(t.p))])])])])},j=[],E=(s("7f7f"),{name:"OnlineGal",props:["id"],data:function(){return{gal:[],bgm:"",sound:"",back:"",left:"",center:"",right:"",name:"",p:"",i:0}},created:function(){var t=this;fetch("/gal/"+this.id+"/gal.json").then(function(t){return t.json()}).then(function(e){t.gal=e,t.nextpage()})},methods:{nextpage:function(){if(this.i>this.gal.length-1&&(alert("试玩结束，感谢支持！"),this.i=0),this.p=this.gal[this.i].p,this.gal[this.i].name?this.name=this.gal[this.i].name:this.name=null,""==this.gal[this.i].bgm?this.bgm=null:this.gal[this.i].bgm&&(this.bgm="/gal/"+this.id+"/bgm/"+this.gal[this.i].bgm+".ogg"),this.gal[Number(this.i)+1].sound&&(this.sound="/gal/"+this.id+"/sound/"+this.gal[Number(this.i)+1].sound+".ogg"),this.gal[this.i].back&&(this.back="url(/gal/"+this.id+"/image/"+this.gal[this.i].back+".webp)"),this.gal[this.i].out)if("3"==this.gal[this.i].out){var t=[null,null,null];this.left=t[0],this.center=t[1],this.right=t[2]}else[this.left,this.center,this.right][this.gal[this.i].out]=null;this.gal[this.i].char&&(""!=this.gal[this.i].char[0]&&(this.left="/gal/"+this.id+"/image/"+this.gal[this.i].char[0]+".webp"),""!=this.gal[this.i].char[1]&&(this.center="/gal/"+this.id+"/image/"+this.gal[this.i].char[1]+".webp"),""!=this.gal[this.i].char[2]&&(this.right="/gal/"+this.id+"/image/"+this.gal[this.i].char[2]+".webp")),this.gal[this.i].sound&&this.$refs.sound.play(),this.$refs.bgm.play(),this.i++}}}),O=E,T=Object(d["a"])(O,k,j,!1,null,null,null),P=T.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"embed-responsive embed-responsive-16by9 offset-sm-2 col-sm-8 border border-dark"},[s("video",{staticClass:"video-js embed-responsive-item",attrs:{id:"my-player",controls:"",preload:"auto",poster:"/video/"+t.id+".jpg","data-setup":"{}"}},[s("source",{attrs:{src:"/video/"+t.id+".mp4",type:"video/mp4"}}),s("p",{staticClass:"vjs-no-js"},[t._v("\r\n    抱歉，该视频无法在您的浏览器中播放。可能是因为禁用了JavaScript。\r\n  ")])])])},z=[],L={name:"Video",props:["id"],created:function(){var t=document.getElementsByTagName("head")[0],e=document.createElement("script");e.src="https://unpkg.com/video.js/dist/video.min.js",t.appendChild(e),e=document.createElement("link"),e.href="https://unpkg.com/video.js/dist/video-js.min.css",e.rel="stylesheet",t.appendChild(e)}},N=L,M=Object(d["a"])(N,S,z,!1,null,null,null),D=M.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"offset-sm-2 col-sm-8 border border-dark",on:{click:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:(e.preventDefault(),t.nextpage(e))},contextmenu:function(e){return e.preventDefault(),t.previouspage(e)}}},t._l(t.items,function(e){return s("img",{key:e,staticClass:"img-fluid",attrs:{src:"/comic/"+t.id+"/"+e}})}),0)},H=[],J={name:"comic",props:["id"],data:function(){return{list:[],page:0,items:[],item:""}},created:function(){var t=this;fetch("/comic/"+this.id+"/comic.json").then(function(t){return t.json()}).then(function(e){t.list=e,t.nextpage()})},updated:function(){var t=this;setTimeout(function(){window.removeEventListener("scroll",t.scrollpage),window.addEventListener("scroll",t.scrollpage)},500)},methods:{nextpage:function(){this.page>this.list.length-1&&(alert("本章结束，感谢支持！"),this.page=0),this.items=[this.list[this.page]],this.page++},previouspage:function(){this.page>1&&(this.page--,this.items=[this.list[this.page-1]])},scrollpage:function(){document.body.offsetHeight==window.pageYOffset+document.documentElement.clientHeight&&(window.removeEventListener("scroll",this.scrollpage),this.page<this.list.length&&(this.items.push(this.list[this.page]),this.page++))}}},B=J,I=Object(d["a"])(B,q,H,!1,null,null,null),R=I.exports;i["a"].use(f["a"]);var Y=new f["a"]({routes:[{path:"/",redirect:"/index/zhvn"},{path:"/index/:type",component:x,props:!0},{path:"/index/:type/:search",component:x,props:!0},{path:"/olgal/:id",component:P,props:!0},{path:"/video/:id",component:D,props:!0},{path:"/comic/:id",component:R,props:!0}]}),A=s("2f62");i["a"].use(A["a"]);var G=new A["a"].Store({state:{},mutations:{},actions:{}});i["a"].config.productionTip=!1,new i["a"]({router:Y,store:G,render:function(t){return t(m)}}).$mount("#app")}});
//# sourceMappingURL=app-legacy.5c196cd3.js.map